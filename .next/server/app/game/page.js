(()=>{var e={};e.id=421,e.ids=[421],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},1790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},5713:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>x,routeModule:()=>g,tree:()=>c});var s=t(3137),a=t(4647),n=t(4183),i=t.n(n),l=t(1775),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d=s.AppPageRouteModule,c=["",{children:["game",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1175)),"/home/warenix/code/repo/github/reading-game/app/game/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,5016)),"/home/warenix/code/repo/github/reading-game/app/game/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9958)),"/home/warenix/code/repo/github/reading-game/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1918,23)),"next/dist/client/components/not-found-error"]}],x=["/home/warenix/code/repo/github/reading-game/app/game/page.tsx"],m="/game/page",u={require:t,loadChunk:()=>Promise.resolve()},g=new d({definition:{kind:a.x.APP_PAGE,page:"/game/page",pathname:"/game",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4753:(e,r,t)=>{Promise.resolve().then(t.bind(t,6719))},5303:()=>{},6719:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Q});var s=t(80),a=t(9885),n=t(7114),i=t(1440),l=t.n(i);function o({article:e,highlightRange:r}){return(0,s.jsxs)("div",{className:"h-full overflow-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:e.title}),s.jsx("div",{className:"prose dark:prose-invert max-w-none",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:((e,r)=>{if(!r)return e;let t=e.slice(0,r[0]),a=e.slice(r[0],r[1]),n=e.slice(r[1]);return(0,s.jsxs)(s.Fragment,{children:[t,s.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800",children:a}),n]})})(e.content,r)})})]})}var d=t(1085),c=t(7389),x=t(3161);let m=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...n},i)=>{let l=a?d.g7:"button";return s.jsx(l,{className:(0,x.cn)(m({variant:r,size:t,className:e})),ref:i,...n})});u.displayName="Button";var g=t(2169),p=t(4151);let h=a.forwardRef(({className:e,...r},t)=>s.jsx(g.fC,{className:(0,x.cn)("grid gap-2",e),...r,ref:t}));h.displayName=g.fC.displayName;let f=a.forwardRef(({className:e,...r},t)=>s.jsx(g.ck,{ref:t,className:(0,x.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:s.jsx(g.z$,{className:"flex items-center justify-center",children:s.jsx(p.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));f.displayName=g.ck.displayName;var b=t(3618);let y=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),w=a.forwardRef(({className:e,...r},t)=>s.jsx(b.f,{ref:t,className:(0,x.cn)(y(),e),...r}));w.displayName=b.f.displayName;let j=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,x.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));j.displayName="Card";let v=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,x.cn)("flex flex-col space-y-1.5 p-6",e),...r}));v.displayName="CardHeader";let N=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,x.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));N.displayName="CardTitle";let k=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,x.cn)("text-sm text-muted-foreground",e),...r}));k.displayName="CardDescription";let q=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,x.cn)("p-6 pt-0",e),...r}));q.displayName="CardContent";let C=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,x.cn)("flex items-center p-6 pt-0",e),...r}));function E({question:e,showExplanation:r,selectedAnswer:t,onAnswerSelect:a,onNext:n}){return(0,s.jsxs)("div",{className:"h-full p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg flex flex-col",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:e.text}),s.jsx(h,{className:"space-y-4 mb-6",value:t?.toString(),onValueChange:e=>a(parseInt(e)),disabled:r,children:e.choices.map((a,n)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(f,{value:n.toString(),id:`choice-${n}`,className:r?e.correctAnswer===n?"border-green-500":t===n?"border-red-500":"":""}),s.jsx(w,{htmlFor:`choice-${n}`,className:r?e.correctAnswer===n?"text-green-600 dark:text-green-400":t===n?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400":"text-gray-700 dark:text-gray-300",children:a})]},n))}),r&&s.jsx(j,{className:"p-4 mb-6 bg-blue-50 dark:bg-blue-900 border-blue-200 dark:border-blue-700",children:s.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:e.explanation})}),s.jsx("div",{className:"mt-auto",children:s.jsx(u,{className:"w-full",onClick:n,disabled:void 0===t&&!r,children:r?"Next Question":"Submit Answer"})})]})}C.displayName="CardFooter";var P=t(1438);function _({score:e,totalQuestions:r,onRestart:t}){return(0,s.jsxs)(j,{className:"p-8 max-w-md mx-auto text-center",children:[s.jsx(P.Z,{className:"w-16 h-16 mx-auto mb-4 text-yellow-500"}),s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Quiz Complete!"}),(0,s.jsxs)("p",{className:"text-4xl font-bold mb-2 text-primary",children:[e," / ",r]}),(0,s.jsxs)("p",{className:"text-xl mb-6 text-muted-foreground",children:[e/r*100,"% Correct"]}),s.jsx(u,{onClick:t,className:"w-full",children:"Try Again"})]})}var R=t(5705),H=t(6995),A=t(4206);function Q(){let e=(0,n.useSearchParams)(),r=e.get("articleId"),[t,i]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0),[x,m]=(0,a.useState)(null),[g,p]=(0,a.useState)({currentQuestionIndex:0,score:0,showExplanation:!1,showHint:!1,answers:[]});if((0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/articles");if(!e.ok)throw Error("Failed to fetch articles");let t=await e.json(),s=t.find(e=>e.id===Number(r));if(!s)throw Error("Article not found");i(s)}catch(e){m(e instanceof Error?e.message:"Failed to load questions")}finally{c(!1)}};e()},[r]),d)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(R.Z,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading questions..."})]})});if(x||!t)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-lg text-red-600 dark:text-red-400",children:x||"Failed to load questions"})})});let h=t.questions[g.currentQuestionIndex],f=g.currentQuestionIndex>=t.questions.length;return f?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6",children:[(0,s.jsxs)(l(),{href:"/",className:"inline-flex items-center text-primary hover:text-primary/80 mb-8",children:[s.jsx(H.Z,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),s.jsx(_,{score:g.score,totalQuestions:t.questions.length,onRestart:()=>{p({currentQuestionIndex:0,score:0,showExplanation:!1,showHint:!1,answers:[]})}})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)(l(),{href:"/",className:"inline-flex items-center text-primary hover:text-primary/80",children:[s.jsx(H.Z,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),(0,s.jsxs)(u,{variant:"outline",size:"sm",onClick:()=>{p(e=>({...e,showHint:!e.showHint}))},className:g.showHint?"bg-primary text-primary-foreground":"",disabled:g.showExplanation,children:[s.jsx(A.Z,{className:"w-4 h-4 mr-2"}),"Hint"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-8rem)]",children:[s.jsx(o,{article:t,highlightRange:g.showExplanation||g.showHint?h.supportingTextRange:void 0}),s.jsx(E,{question:h,showExplanation:g.showExplanation,selectedAnswer:g.answers[g.currentQuestionIndex],onAnswerSelect:e=>{p(r=>({...r,answers:[...r.answers.slice(0,r.currentQuestionIndex),e],showHint:!1}))},onNext:()=>{if(g.showExplanation)p(e=>({...e,currentQuestionIndex:e.currentQuestionIndex+1,showExplanation:!1,showHint:!1}));else{let e=g.answers[g.currentQuestionIndex]===h.correctAnswer;p(r=>({...r,showExplanation:!0,showHint:!1,score:e?r.score+1:r.score}))}}})]})]})})}},3161:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(566),a=t(8126);function n(...e){return(0,a.m6)((0,s.W)(e))}},5016:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(8144),a=t(6096);function n(){return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(a.Z,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading questions..."})]})})}},1175:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=t(7536);let a=(0,s.createProxy)(String.raw`/home/warenix/code/repo/github/reading-game/app/game/page.tsx`),{__esModule:n,$$typeof:i}=a,l=a.default,o=l}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[255,506,551,705],()=>t(5713));module.exports=s})();